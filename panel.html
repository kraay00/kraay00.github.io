<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#0a0f18">
<title>Project Z - Panel</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --bg-primary: #0a0f18;
  --bg-secondary: #0f1520;
  --bg-card: #141c2b;
  --bg-hover: #1a2435;
  --border: #1e2a3d;
  --border-light: #2a3a52;
  --text-primary: #e8edf5;
  --text-secondary: #8a96a8;
  --text-muted: #5a6578;
  --accent: #4a7cff;
  --accent-dim: rgba(74, 124, 255, 0.15);
  --success: #3daa6d;
  --warning: #d4a84b;
}

html, body {
  height: 100%;
  background: var(--bg-primary);
  font-family: 'Inter', 'Segoe UI', -apple-system, sans-serif;
  color: var(--text-primary);
  overflow-x: hidden;
  line-height: 1.5;
}

/* Layout */
.app {
  display: flex;
  min-height: 100vh;
}

/* Sidebar */
.sidebar {
  width: 240px;
  background: var(--bg-secondary);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  position: fixed;
  height: 100vh;
  z-index: 100;
  transition: transform 0.3s ease;
}

.sidebar-header {
  padding: 24px 20px;
  border-bottom: 1px solid var(--border);
}

.logo {
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 3px;
  color: var(--text-primary);
}

.logo-sub {
  font-size: 10px;
  color: var(--text-muted);
  letter-spacing: 1px;
  margin-top: 4px;
}

/* Profile Mini */
.profile-mini {
  padding: 20px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 12px;
}

.profile-avatar {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: var(--text-secondary);
  overflow: hidden;
}

.profile-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.profile-info {
  flex: 1;
  min-width: 0;
}

.profile-name {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.profile-rank {
  font-size: 11px;
  color: var(--text-muted);
}

/* Navigation */
.nav {
  flex: 1;
  padding: 16px 0;
  overflow-y: auto;
}

.nav-section {
  margin-bottom: 8px;
}

.nav-label {
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  letter-spacing: 1px;
  padding: 12px 20px 8px;
  text-transform: uppercase;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 20px;
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-left: 2px solid transparent;
}

.nav-item:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.nav-item.active {
  background: var(--accent-dim);
  color: var(--accent);
  border-left-color: var(--accent);
}

.nav-icon {
  width: 18px;
  height: 18px;
  opacity: 0.7;
}

.nav-item.active .nav-icon {
  opacity: 1;
}

/* Sidebar Footer */
.sidebar-footer {
  padding: 16px 20px;
  border-top: 1px solid var(--border);
}

.logout-btn {
  width: 100%;
  padding: 10px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-secondary);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.logout-btn:hover {
  background: rgba(255, 80, 80, 0.1);
  border-color: rgba(255, 80, 80, 0.3);
  color: #ff6b6b;
}

/* Main Content */
.main {
  flex: 1;
  margin-left: 240px;
  min-height: 100vh;
}

/* Header */
.header {
  padding: 24px 32px;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--bg-secondary);
  position: sticky;
  top: 0;
  z-index: 50;
}

.header-title {
  font-size: 18px;
  font-weight: 600;
}

.header-subtitle {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 2px;
}

/* Code Input */
.code-box {
  display: flex;
  gap: 8px;
}

.code-input {
  width: 180px;
  padding: 10px 14px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  font-family: 'SF Mono', 'Consolas', monospace;
  letter-spacing: 2px;
  text-transform: uppercase;
  outline: none;
  transition: border-color 0.2s ease;
}

.code-input:focus {
  border-color: var(--accent);
}

.code-input::placeholder {
  color: var(--text-muted);
  letter-spacing: 0;
  text-transform: none;
  font-family: inherit;
}

.btn-primary {
  padding: 10px 20px;
  background: var(--accent);
  border: none;
  border-radius: 8px;
  color: #fff;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-primary:hover {
  background: #5a8aff;
}

/* Content Area */
.content {
  padding: 32px;
}

/* Page Sections */
.page {
  display: none;
}

.page.active {
  display: block;
}

/* Welcome Card */
.welcome-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 32px;
  margin-bottom: 32px;
}

.welcome-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 8px;
}

.welcome-text {
  font-size: 14px;
  color: var(--text-secondary);
  max-width: 500px;
}

/* Stats Row */
.stats-row {
  display: flex;
  gap: 16px;
  margin-top: 24px;
}

.stat-box {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px 24px;
  text-align: center;
  min-width: 100px;
}

.stat-value {
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary);
}

.stat-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 4px;
}

/* Section Header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.section-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.section-link {
  font-size: 12px;
  color: var(--accent);
  text-decoration: none;
  cursor: pointer;
}

.section-link:hover {
  text-decoration: underline;
}

/* Case Cards */
.case-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 16px;
}

.case-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.case-card:hover {
  border-color: var(--border-light);
  background: var(--bg-hover);
}

.case-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.case-id {
  font-size: 11px;
  color: var(--text-muted);
  font-family: 'SF Mono', 'Consolas', monospace;
}

.case-status {
  font-size: 10px;
  font-weight: 500;
  padding: 4px 10px;
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.case-status.active {
  background: rgba(61, 170, 109, 0.15);
  color: var(--success);
}

.case-status.solved {
  background: var(--accent-dim);
  color: var(--accent);
}

.case-status.locked {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-muted);
}

.case-title {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 8px;
  color: var(--text-primary);
}

.case-desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 20px;
}

.case-footer {
  display: flex;
  gap: 20px;
  padding-top: 16px;
  border-top: 1px solid var(--border);
}

.case-meta {
  font-size: 12px;
  color: var(--text-muted);
}

.case-meta span {
  color: var(--text-secondary);
}

/* Leaderboard */
.leaderboard {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}

.lb-header {
  display: grid;
  grid-template-columns: 50px 1fr 80px 80px;
  padding: 14px 20px;
  background: var(--bg-secondary);
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.lb-row {
  display: grid;
  grid-template-columns: 50px 1fr 80px 80px;
  padding: 14px 20px;
  align-items: center;
  border-bottom: 1px solid var(--border);
  transition: background 0.2s ease;
}

.lb-row:last-child {
  border-bottom: none;
}

.lb-row:hover {
  background: var(--bg-hover);
}

.lb-rank {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
}

.lb-rank.gold { color: #d4a84b; }
.lb-rank.silver { color: #a8b4c4; }
.lb-rank.bronze { color: #c4956a; }

.lb-user {
  display: flex;
  align-items: center;
  gap: 12px;
}

.lb-avatar {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  color: var(--text-muted);
}

.lb-name {
  font-size: 13px;
  font-weight: 500;
}

.lb-badge {
  font-size: 10px;
  color: var(--text-muted);
}

.lb-stat {
  font-size: 13px;
  color: var(--text-secondary);
  text-align: center;
}

/* Settings */
.settings-section {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 20px;
}

.settings-title {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border);
}

.avatar-section {
  display: flex;
  align-items: center;
  gap: 24px;
}

.avatar-large {
  width: 80px;
  height: 80px;
  border-radius: 12px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: var(--text-muted);
  overflow: hidden;
}

.avatar-large img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn-secondary {
  padding: 8px 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-secondary);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-secondary:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  font-size: 11px;
  font-weight: 500;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.form-input {
  width: 100%;
  max-width: 400px;
  padding: 12px 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  outline: none;
  transition: border-color 0.2s ease;
}

.form-input:focus {
  border-color: var(--accent);
}

/* Case Detail */
.case-detail-header {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 32px;
  margin-bottom: 24px;
}

.case-detail-id {
  font-size: 11px;
  color: var(--text-muted);
  font-family: 'SF Mono', 'Consolas', monospace;
  margin-bottom: 8px;
}

.case-detail-title {
  font-size: 24px;
  font-weight: 600;
  margin-bottom: 12px;
}

.case-detail-desc {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 700px;
}

.case-detail-stats {
  display: flex;
  gap: 32px;
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid var(--border);
}

.detail-stat {
  text-align: center;
}

.detail-stat-value {
  font-size: 20px;
  font-weight: 600;
}

.detail-stat-label {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 4px;
}

/* Tabs */
.tabs {
  display: flex;
  gap: 4px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 4px;
  margin-bottom: 24px;
}

.tab {
  flex: 1;
  padding: 10px 16px;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tab:hover {
  color: var(--text-secondary);
}

.tab.active {
  background: var(--accent-dim);
  color: var(--accent);
}

/* Tab Content */
.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* Evidence Grid */
.evidence-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
}

.evidence-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
  transition: all 0.2s ease;
  cursor: pointer;
}

.evidence-card:hover {
  border-color: var(--border-light);
}

.evidence-preview {
  height: 120px;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  font-size: 28px;
}

.evidence-info {
  padding: 16px;
}

.evidence-type {
  font-size: 10px;
  color: var(--accent);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

.evidence-title {
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 6px;
}

.evidence-meta {
  font-size: 11px;
  color: var(--text-muted);
}

.evidence-add {
  border-style: dashed;
  border-color: var(--border);
}

.evidence-add:hover {
  border-color: var(--accent);
  background: var(--accent-dim);
}

.evidence-add .evidence-preview {
  background: transparent;
  color: var(--accent);
}

/* Suspect Cards */
.suspect-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
}

.suspect-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
  display: flex;
  gap: 16px;
}

.suspect-photo {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: var(--text-muted);
  flex-shrink: 0;
}

.suspect-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
}

.suspect-role {
  font-size: 11px;
  color: var(--accent);
  margin-bottom: 8px;
}

.suspect-desc {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.6;
}

/* Team Section */
.team-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
}

.team-member {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid var(--border);
}

.team-member:last-of-type {
  border-bottom: none;
}

.member-avatar {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: var(--text-muted);
}

.member-info {
  flex: 1;
}

.member-name {
  font-size: 13px;
  font-weight: 500;
}

.member-contrib {
  font-size: 11px;
  color: var(--text-muted);
}

.member-badge {
  font-size: 10px;
  padding: 4px 10px;
  background: var(--accent-dim);
  color: var(--accent);
  border-radius: 4px;
}

.add-member {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  background: transparent;
  border: 1px dashed var(--border);
  border-radius: 8px;
  color: var(--text-muted);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.add-member:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: var(--accent-dim);
}

/* Notes Section */
.notes-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
}

.note-item {
  padding: 16px;
  background: var(--bg-secondary);
  border-radius: 8px;
  margin-bottom: 12px;
}

.note-header {
  font-size: 11px;
  color: var(--accent);
  margin-bottom: 8px;
}

.note-text {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
}

.note-input {
  width: 100%;
  padding: 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  resize: vertical;
  min-height: 100px;
  outline: none;
  font-family: inherit;
}

.note-input:focus {
  border-color: var(--accent);
}

/* Modal */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.modal-overlay.active {
  opacity: 1;
  pointer-events: all;
}

.modal {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  width: 90%;
  max-width: 440px;
  padding: 24px;
  transform: translateY(20px);
  transition: transform 0.2s ease;
}

.modal-overlay.active .modal {
  transform: translateY(0);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.modal-title {
  font-size: 16px;
  font-weight: 600;
}

.modal-close {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: var(--bg-secondary);
  border: none;
  color: var(--text-muted);
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.modal-close:hover {
  background: rgba(255, 80, 80, 0.15);
  color: #ff6b6b;
}

.modal-input {
  width: 100%;
  padding: 12px 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  margin-bottom: 12px;
  outline: none;
}

.modal-input:focus {
  border-color: var(--accent);
}

.modal-select {
  width: 100%;
  padding: 12px 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  margin-bottom: 12px;
  outline: none;
  cursor: pointer;
}

.modal-textarea {
  width: 100%;
  padding: 12px 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 13px;
  min-height: 100px;
  resize: vertical;
  outline: none;
  font-family: inherit;
}

.modal-actions {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.modal-actions .btn-secondary,
.modal-actions .btn-primary {
  flex: 1;
  padding: 12px;
}

/* Notification */
.toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  padding: 14px 20px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 13px;
  color: var(--text-primary);
  z-index: 2000;
  transform: translateY(100px);
  opacity: 0;
  transition: all 0.3s ease;
}

.toast.show {
  transform: translateY(0);
  opacity: 1;
}

.toast.success {
  border-color: var(--success);
}

.toast.error {
  border-color: #ff6b6b;
}

/* Mobile Toggle */
.mobile-toggle {
  display: none;
  position: fixed;
  top: 16px;
  left: 16px;
  width: 40px;
  height: 40px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 18px;
  cursor: pointer;
  z-index: 101;
  align-items: center;
  justify-content: center;
}

/* Responsive */
@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
  }
  
  .sidebar.open {
    transform: translateX(0);
  }
  
  .main {
    margin-left: 0;
  }
  
  .mobile-toggle {
    display: flex;
  }
  
  .header {
    padding: 16px 20px;
    padding-left: 70px;
    flex-direction: column;
    align-items: flex-start;
    gap: 16px;
  }
  
  .code-box {
    width: 100%;
  }
  
  .code-input {
    flex: 1;
  }
  
  .content {
    padding: 20px;
  }
  
  .case-grid,
  .evidence-grid,
  .suspect-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-row {
    flex-wrap: wrap;
  }
  
  .stat-box {
    flex: 1;
    min-width: 80px;
  }
  
  .lb-header,
  .lb-row {
    grid-template-columns: 40px 1fr 60px;
  }
  
  .lb-header > *:last-child,
  .lb-row > *:last-child {
    display: none;
  }
  
  .tabs {
    flex-wrap: wrap;
  }
  
  .tab {
    flex: none;
    width: calc(50% - 2px);
  }
}
</style>
</head>

<body>

<div class="app">
  
  <!-- Mobile Toggle -->
  <button class="mobile-toggle" id="mobileToggle">â˜°</button>
  
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">PROJECT Z</div>
      <div class="logo-sub">Dedektif Platformu</div>
    </div>
    
    <div class="profile-mini">
      <div class="profile-avatar" id="sidebarAvatar">D</div>
      <div class="profile-info">
        <div class="profile-name" id="sidebarName">Dedektif</div>
        <div class="profile-rank">Ã‡aylak Dedektif</div>
      </div>
    </div>
    
    <nav class="nav">
      <div class="nav-section">
        <div class="nav-label">Ana MenÃ¼</div>
        <a class="nav-item active" data-page="dashboard">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7" rx="1"/>
            <rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/>
            <rect x="14" y="14" width="7" height="7" rx="1"/>
          </svg>
          Panel
        </a>
        <a class="nav-item" data-page="cases">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
          </svg>
          DavalarÄ±m
        </a>
        <a class="nav-item" data-page="leaderboard">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 21v-6M12 21V9M16 21v-4M4 21h16"/>
          </svg>
          SÄ±ralama
        </a>
      </div>
      
      <div class="nav-section">
        <div class="nav-label">Hesap</div>
        <a class="nav-item" data-page="settings">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"/>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
          </svg>
          Ayarlar
        </a>
      </div>
    </nav>
    
    <div class="sidebar-footer">
      <button class="logout-btn" id="logoutBtn">Ã‡Ä±kÄ±ÅŸ Yap</button>
    </div>
  </aside>
  
  <!-- Main Content -->
  <main class="main">
    
    <!-- Header -->
    <header class="header">
      <div>
        <h1 class="header-title" id="pageTitle">Panel</h1>
        <p class="header-subtitle" id="pageSubtitle">HoÅŸ geldin, dedektif</p>
      </div>
      <div class="code-box">
        <input type="text" class="code-input" id="codeInput" placeholder="Dava kodu" maxlength="12">
        <button class="btn-primary" id="activateBtn">Aktive Et</button>
      </div>
    </header>
    
    <!-- Content -->
    <div class="content">
      
      <!-- Dashboard Page -->
      <section class="page active" id="dashboardPage">
        
        <div class="welcome-card">
          <h2 class="welcome-title">HoÅŸ Geldin, <span id="welcomeName">Dedektif</span></h2>
          <p class="welcome-text">
            Yeni bir davaya baÅŸlamak iÃ§in yukarÄ±daki alana dava kodunu gir. 
            Aktif davalarÄ±nÄ± aÅŸaÄŸÄ±da gÃ¶rebilirsin.
          </p>
          <div class="stats-row">
            <div class="stat-box">
              <div class="stat-value" id="statSolved">0</div>
              <div class="stat-label">Ã‡Ã¶zÃ¼len Dava</div>
            </div>
            <div class="stat-box">
              <div class="stat-value" id="statActive">0</div>
              <div class="stat-label">Aktif Dava</div>
            </div>
            <div class="stat-box">
              <div class="stat-value" id="statPoints">0</div>
              <div class="stat-label">Puan</div>
            </div>
          </div>
        </div>
        
        <div class="section-header">
          <h3 class="section-title">Aktif Davalar</h3>
          <a class="section-link" data-page="cases">TÃ¼mÃ¼nÃ¼ GÃ¶r</a>
        </div>
        
        <div class="case-grid" id="activeCasesGrid">
          <div class="case-card" data-case="demo-001">
            <div class="case-header">
              <span class="case-id">#DV-2026-001</span>
              <span class="case-status active">Aktif</span>
            </div>
            <h3 class="case-title">KayÄ±p Miras</h3>
            <p class="case-desc">Zengin iÅŸ adamÄ± Kemal YÄ±lmaz'Ä±n ÅŸÃ¼pheli Ã¶lÃ¼mÃ¼nÃ¼n ardÄ±ndan kaybolan miras belgeleri...</p>
            <div class="case-footer">
              <span class="case-meta">KanÄ±t: <span>5</span></span>
              <span class="case-meta">ÅÃ¼pheli: <span>3</span></span>
              <span class="case-meta">TakÄ±m: <span>1</span></span>
            </div>
          </div>
        </div>
        
      </section>
      
      <!-- Cases Page -->
      <section class="page" id="casesPage">
        <div class="section-header">
          <h3 class="section-title">TÃ¼m Davalar</h3>
        </div>
        <div class="case-grid">
          <div class="case-card" data-case="demo-001">
            <div class="case-header">
              <span class="case-id">#DV-2026-001</span>
              <span class="case-status active">Aktif</span>
            </div>
            <h3 class="case-title">KayÄ±p Miras</h3>
            <p class="case-desc">Zengin iÅŸ adamÄ± Kemal YÄ±lmaz'Ä±n ÅŸÃ¼pheli Ã¶lÃ¼mÃ¼nÃ¼n ardÄ±ndan kaybolan miras belgeleri...</p>
            <div class="case-footer">
              <span class="case-meta">KanÄ±t: <span>5</span></span>
              <span class="case-meta">ÅÃ¼pheli: <span>3</span></span>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Leaderboard Page -->
      <section class="page" id="leaderboardPage">
        <div class="leaderboard">
          <div class="lb-header">
            <div>SÄ±ra</div>
            <div>Dedektif</div>
            <div>Ã‡Ã¶zÃ¼len</div>
            <div>Puan</div>
          </div>
          <div class="lb-row">
            <div class="lb-rank gold">1</div>
            <div class="lb-user">
              <div class="lb-avatar">S</div>
              <div>
                <div class="lb-name">ShadowHunter</div>
                <div class="lb-badge">Efsane Dedektif</div>
              </div>
            </div>
            <div class="lb-stat">24</div>
            <div class="lb-stat">12,450</div>
          </div>
          <div class="lb-row">
            <div class="lb-rank silver">2</div>
            <div class="lb-user">
              <div class="lb-avatar">M</div>
              <div>
                <div class="lb-name">MysteryMaster</div>
                <div class="lb-badge">BaÅŸ Dedektif</div>
              </div>
            </div>
            <div class="lb-stat">18</div>
            <div class="lb-stat">9,200</div>
          </div>
          <div class="lb-row">
            <div class="lb-rank bronze">3</div>
            <div class="lb-user">
              <div class="lb-avatar">T</div>
              <div>
                <div class="lb-name">TruthSeeker</div>
                <div class="lb-badge">KÄ±demli Dedektif</div>
              </div>
            </div>
            <div class="lb-stat">12</div>
            <div class="lb-stat">6,800</div>
          </div>
          <div class="lb-row">
            <div class="lb-rank">4</div>
            <div class="lb-user">
              <div class="lb-avatar">C</div>
              <div>
                <div class="lb-name">ClueCollector</div>
                <div class="lb-badge">Dedektif</div>
              </div>
            </div>
            <div class="lb-stat">8</div>
            <div class="lb-stat">4,100</div>
          </div>
          <div class="lb-row" style="background: var(--accent-dim);">
            <div class="lb-rank">5</div>
            <div class="lb-user">
              <div class="lb-avatar" id="lbUserAvatar">D</div>
              <div>
                <div class="lb-name" id="lbUserName">Sen</div>
                <div class="lb-badge">Ã‡aylak Dedektif</div>
              </div>
            </div>
            <div class="lb-stat">0</div>
            <div class="lb-stat">0</div>
          </div>
        </div>
      </section>
      
      <!-- Settings Page -->
      <section class="page" id="settingsPage">
        <div class="settings-section">
          <h3 class="settings-title">Profil FotoÄŸrafÄ±</h3>
          <div class="avatar-section">
            <div class="avatar-large" id="avatarPreview">D</div>
            <div class="avatar-actions">
              <input type="file" id="avatarInput" accept="image/*" hidden>
              <button class="btn-secondary" id="uploadBtn">FotoÄŸraf YÃ¼kle</button>
              <button class="btn-secondary" id="removeBtn">KaldÄ±r</button>
            </div>
          </div>
        </div>
        
        <div class="settings-section">
          <h3 class="settings-title">Profil Bilgileri</h3>
          <div class="form-group">
            <label class="form-label">GÃ¶rÃ¼nen Ä°sim</label>
            <input type="text" class="form-input" id="inputName" placeholder="Ä°sminiz">
          </div>
          <div class="form-group">
            <label class="form-label">KullanÄ±cÄ± AdÄ±</label>
            <input type="text" class="form-input" id="inputUsername" placeholder="KullanÄ±cÄ± adÄ±nÄ±z">
          </div>
          <div class="form-group">
            <label class="form-label">E-posta</label>
            <input type="email" class="form-input" id="inputEmail" placeholder="E-posta adresiniz">
          </div>
          <button class="btn-primary" id="saveBtn">Kaydet</button>
        </div>
      </section>
      
      <!-- Case Detail Page -->
      <section class="page" id="caseDetailPage">
        <div class="case-detail-header">
          <div class="case-detail-id">#DV-2026-001</div>
          <h1 class="case-detail-title">KayÄ±p Miras</h1>
          <p class="case-detail-desc">
            Zengin iÅŸ adamÄ± Kemal YÄ±lmaz'Ä±n ÅŸÃ¼pheli Ã¶lÃ¼mÃ¼nÃ¼n ardÄ±ndan, milyonluk miras belgeleri ortadan kayboldu. 
            Aile Ã¼yeleri birbirini suÃ§luyor, hizmetÃ§iler suskunluÄŸunu koruyor. GerÃ§eÄŸi sadece sen bulabilirsin.
          </p>
          <div class="case-detail-stats">
            <div class="detail-stat">
              <div class="detail-stat-value">5</div>
              <div class="detail-stat-label">KanÄ±t</div>
            </div>
            <div class="detail-stat">
              <div class="detail-stat-value">3</div>
              <div class="detail-stat-label">ÅÃ¼pheli</div>
            </div>
            <div class="detail-stat">
              <div class="detail-stat-value">2</div>
              <div class="detail-stat-label">Medya</div>
            </div>
            <div class="detail-stat">
              <div class="detail-stat-value">1</div>
              <div class="detail-stat-label">Dedektif</div>
            </div>
          </div>
        </div>
        
        <div class="tabs">
          <button class="tab active" data-tab="evidence">KanÄ±tlar</button>
          <button class="tab" data-tab="suspects">ÅÃ¼pheliler</button>
          <button class="tab" data-tab="media">Medya</button>
          <button class="tab" data-tab="team">TakÄ±m</button>
          <button class="tab" data-tab="notes">Notlar</button>
        </div>
        
        <!-- Evidence Tab -->
        <div class="tab-content active" id="evidenceTab">
          <div class="evidence-grid">
            <div class="evidence-card">
              <div class="evidence-preview">ğŸ“„</div>
              <div class="evidence-info">
                <div class="evidence-type">Belge</div>
                <div class="evidence-title">Vasiyetname KopyasÄ±</div>
                <div class="evidence-meta">Sen tarafÄ±ndan eklendi</div>
              </div>
            </div>
            <div class="evidence-card">
              <div class="evidence-preview">ğŸ”‘</div>
              <div class="evidence-info">
                <div class="evidence-type">Fiziksel</div>
                <div class="evidence-title">Kasa AnahtarÄ±</div>
                <div class="evidence-meta">Sen tarafÄ±ndan eklendi</div>
              </div>
            </div>
            <div class="evidence-card">
              <div class="evidence-preview">ğŸ“±</div>
              <div class="evidence-info">
                <div class="evidence-type">Dijital</div>
                <div class="evidence-title">Telefon KayÄ±tlarÄ±</div>
                <div class="evidence-meta">Sen tarafÄ±ndan eklendi</div>
              </div>
            </div>
            <div class="evidence-card evidence-add" id="addEvidenceBtn">
              <div class="evidence-preview">+</div>
              <div class="evidence-info">
                <div class="evidence-type">Yeni</div>
                <div class="evidence-title">KanÄ±t Ekle</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Suspects Tab -->
        <div class="tab-content" id="suspectsTab">
          <div class="suspect-grid">
            <div class="suspect-card">
              <div class="suspect-photo">ğŸ‘¨</div>
              <div class="suspect-info">
                <div class="suspect-name">Ahmet YÄ±lmaz</div>
                <div class="suspect-role">BÃ¼yÃ¼k OÄŸul</div>
                <p class="suspect-desc">BabasÄ±yla son zamanlarda sÄ±k sÄ±k tartÄ±ÅŸÄ±yordu. Åirketin yÃ¶netimini devralmak istiyordu.</p>
              </div>
            </div>
            <div class="suspect-card">
              <div class="suspect-photo">ğŸ‘©</div>
              <div class="suspect-info">
                <div class="suspect-name">Elif YÄ±lmaz</div>
                <div class="suspect-role">KÄ±z KardeÅŸ</div>
                <p class="suspect-desc">Mirasta hak iddia ediyor. BabasÄ±nÄ±n Ã¶lÃ¼mÃ¼nden bir gÃ¼n Ã¶nce evde olduÄŸu tespit edildi.</p>
              </div>
            </div>
            <div class="suspect-card">
              <div class="suspect-photo">ğŸ‘¨</div>
              <div class="suspect-info">
                <div class="suspect-name">Mustafa Demir</div>
                <div class="suspect-role">UÅŸak</div>
                <p class="suspect-desc">20 yÄ±ldÄ±r ailede Ã§alÄ±ÅŸÄ±yor. O gece evdeydi ama ifadesi tutarsÄ±z.</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Media Tab -->
        <div class="tab-content" id="mediaTab">
          <div class="evidence-grid">
            <div class="evidence-card">
              <div class="evidence-preview">ğŸ¥</div>
              <div class="evidence-info">
                <div class="evidence-type">Video</div>
                <div class="evidence-title">GÃ¼venlik KamerasÄ±</div>
                <div class="evidence-meta">GiriÅŸ holÃ¼ - 23:45</div>
              </div>
            </div>
            <div class="evidence-card">
              <div class="evidence-preview">ğŸ™ï¸</div>
              <div class="evidence-info">
                <div class="evidence-type">Ses</div>
                <div class="evidence-title">Telefon GÃ¶rÃ¼ÅŸmesi</div>
                <div class="evidence-meta">Ahmet - Bilinmeyen</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Team Tab -->
        <div class="tab-content" id="teamTab">
          <div class="team-card">
            <div class="team-member">
              <div class="member-avatar" id="teamUserAvatar">D</div>
              <div class="member-info">
                <div class="member-name" id="teamUserName">Sen</div>
                <div class="member-contrib">3 kanÄ±t ekledi</div>
              </div>
              <span class="member-badge">Kurucu</span>
            </div>
            <button class="add-member" id="addMemberBtn">+ Dedektif Davet Et</button>
          </div>
        </div>
        
        <!-- Notes Tab -->
        <div class="tab-content" id="notesTab">
          <div class="notes-card">
            <div class="note-item">
              <div class="note-header">Sen - 2 saat Ã¶nce</div>
              <p class="note-text">Ahmet'in telefon kayÄ±tlarÄ±nÄ± inceledim. Ã–lÃ¼mden 2 saat Ã¶nce bilinmeyen bir numarayla 15 dakika konuÅŸmuÅŸ.</p>
            </div>
            <textarea class="note-input" placeholder="Yeni not ekle..."></textarea>
            <button class="btn-primary" style="margin-top: 12px;" id="addNoteBtn">Not Ekle</button>
          </div>
        </div>
        
      </section>
      
    </div>
  </main>
  
</div>

<!-- Evidence Modal -->
<div class="modal-overlay" id="evidenceModal">
  <div class="modal">
    <div class="modal-header">
      <h3 class="modal-title">KanÄ±t Ekle</h3>
      <button class="modal-close" data-close="evidenceModal">Ã—</button>
    </div>
    <input type="text" class="modal-input" placeholder="KanÄ±t baÅŸlÄ±ÄŸÄ±">
    <select class="modal-select">
      <option value="">TÃ¼r seÃ§in</option>
      <option value="document">Belge</option>
      <option value="physical">Fiziksel KanÄ±t</option>
      <option value="digital">Dijital</option>
      <option value="testimony">Ä°fade</option>
    </select>
    <textarea class="modal-textarea" placeholder="AÃ§Ä±klama..."></textarea>
    <div class="modal-actions">
      <button class="btn-secondary" data-close="evidenceModal">Ä°ptal</button>
      <button class="btn-primary" id="submitEvidence">Ekle</button>
    </div>
  </div>
</div>

<!-- Invite Modal -->
<div class="modal-overlay" id="inviteModal">
  <div class="modal">
    <div class="modal-header">
      <h3 class="modal-title">Dedektif Davet Et</h3>
      <button class="modal-close" data-close="inviteModal">Ã—</button>
    </div>
    <input type="text" class="modal-input" placeholder="KullanÄ±cÄ± adÄ± veya e-posta">
    <p style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">
      Davet ettiÄŸiniz dedektif bu davadaki tÃ¼m iÃ§erikleri gÃ¶rebilecektir.
    </p>
    <div class="modal-actions">
      <button class="btn-secondary" data-close="inviteModal">Ä°ptal</button>
      <button class="btn-primary" id="submitInvite">Davet GÃ¶nder</button>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// Elements
const sidebar = document.getElementById('sidebar');
const mobileToggle = document.getElementById('mobileToggle');
const pages = document.querySelectorAll('.page');
const navItems = document.querySelectorAll('.nav-item');
const tabs = document.querySelectorAll('.tab');
const tabContents = document.querySelectorAll('.tab-content');
const toast = document.getElementById('toast');

// State
let currentUser = {
  name: 'Dedektif',
  avatar: null,
  solved: 0,
  active: 1,
  points: 0
};

// Initialize
function init() {
  loadUserData();
  updateUI();
}

// Load user data from localStorage
function loadUserData() {
  const savedName = localStorage.getItem('userDisplayName') || localStorage.getItem('regName');
  const savedAvatar = localStorage.getItem('userAvatar');
  const savedUsername = localStorage.getItem('username') || localStorage.getItem('regUser');
  const savedEmail = localStorage.getItem('regMail');
  
  if (savedName) currentUser.name = savedName;
  if (savedAvatar) currentUser.avatar = savedAvatar;
  
  // Fill form inputs
  document.getElementById('inputName').value = savedName || '';
  document.getElementById('inputUsername').value = savedUsername || '';
  document.getElementById('inputEmail').value = savedEmail || '';
}

// Update UI with user data
function updateUI() {
  // Update all name displays
  document.getElementById('sidebarName').textContent = currentUser.name;
  document.getElementById('welcomeName').textContent = currentUser.name;
  document.getElementById('lbUserName').textContent = currentUser.name;
  document.getElementById('teamUserName').textContent = currentUser.name;
  document.getElementById('pageSubtitle').textContent = `HoÅŸ geldin, ${currentUser.name}`;
  
  // Update avatars
  const initial = currentUser.name.charAt(0).toUpperCase();
  const avatarElements = ['sidebarAvatar', 'avatarPreview', 'lbUserAvatar', 'teamUserAvatar'];
  
  avatarElements.forEach(id => {
    const el = document.getElementById(id);
    if (el) {
      if (currentUser.avatar) {
        el.innerHTML = `<img src="${currentUser.avatar}" alt="Avatar">`;
      } else {
        el.textContent = initial;
      }
    }
  });
  
  // Update stats
  document.getElementById('statSolved').textContent = currentUser.solved;
  document.getElementById('statActive').textContent = currentUser.active;
  document.getElementById('statPoints').textContent = currentUser.points;
}

// Show toast notification
function showToast(message, type = 'success') {
  toast.textContent = message;
  toast.className = 'toast ' + type + ' show';
  setTimeout(() => toast.classList.remove('show'), 3000);
}

// Navigate to page
function navigateTo(pageId) {
  pages.forEach(p => p.classList.remove('active'));
  navItems.forEach(n => n.classList.remove('active'));
  
  const targetPage = document.getElementById(pageId + 'Page');
  const targetNav = document.querySelector(`.nav-item[data-page="${pageId}"]`);
  
  if (targetPage) targetPage.classList.add('active');
  if (targetNav) targetNav.classList.add('active');
  
  // Update header
  const titles = {
    dashboard: ['Panel', `HoÅŸ geldin, ${currentUser.name}`],
    cases: ['DavalarÄ±m', 'TÃ¼m davalarÄ±nÄ± gÃ¶rÃ¼ntÃ¼le'],
    leaderboard: ['SÄ±ralama', 'En iyi dedektifler'],
    settings: ['Ayarlar', 'Profil ayarlarÄ±nÄ± dÃ¼zenle'],
    caseDetail: ['Dava DetayÄ±', 'KayÄ±p Miras']
  };
  
  if (titles[pageId]) {
    document.getElementById('pageTitle').textContent = titles[pageId][0];
    document.getElementById('pageSubtitle').textContent = titles[pageId][1];
  }
  
  sidebar.classList.remove('open');
}

// Mobile toggle
mobileToggle.addEventListener('click', () => {
  sidebar.classList.toggle('open');
});

// Navigation
navItems.forEach(item => {
  item.addEventListener('click', (e) => {
    e.preventDefault();
    navigateTo(item.dataset.page);
  });
});

// Section links
document.querySelectorAll('.section-link').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    navigateTo(link.dataset.page);
  });
});

// Case cards - open detail
document.querySelectorAll('.case-card[data-case]').forEach(card => {
  card.addEventListener('click', () => {
    navigateTo('caseDetail');
  });
});

// Tabs
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    const tabId = tab.dataset.tab;
    
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    
    tabContents.forEach(content => {
      content.classList.remove('active');
    });
    
    const targetContent = document.getElementById(tabId + 'Tab');
    if (targetContent) {
      targetContent.classList.add('active');
    }
  });
});

// Code activation
const codeInput = document.getElementById('codeInput');
const activateBtn = document.getElementById('activateBtn');

activateBtn.addEventListener('click', () => {
  const code = codeInput.value.trim().toUpperCase();
  
  if (!code) {
    showToast('LÃ¼tfen bir kod girin', 'error');
    return;
  }
  
  if (code.length < 6) {
    showToast('GeÃ§ersiz kod formatÄ±', 'error');
    return;
  }
  
  // Demo valid codes
  const validCodes = ['DEMO001', 'TEST123', 'CASE001', 'PROJECTZ', 'MIRAS01'];
  
  if (validCodes.includes(code)) {
    showToast('Dava baÅŸarÄ±yla aktive edildi');
    codeInput.value = '';
    currentUser.active++;
    updateUI();
    
    setTimeout(() => {
      navigateTo('caseDetail');
    }, 1000);
  } else {
    showToast('GeÃ§ersiz veya kullanÄ±lmÄ±ÅŸ kod', 'error');
  }
});

codeInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') activateBtn.click();
});

// Modal functions
function openModal(modalId) {
  document.getElementById(modalId).classList.add('active');
}

function closeModal(modalId) {
  document.getElementById(modalId).classList.remove('active');
}

// Modal close buttons
document.querySelectorAll('[data-close]').forEach(btn => {
  btn.addEventListener('click', () => {
    closeModal(btn.dataset.close);
  });
});

// Close modal on overlay click
document.querySelectorAll('.modal-overlay').forEach(overlay => {
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      overlay.classList.remove('active');
    }
  });
});

// Add evidence button
document.getElementById('addEvidenceBtn')?.addEventListener('click', () => {
  openModal('evidenceModal');
});

// Submit evidence
document.getElementById('submitEvidence')?.addEventListener('click', () => {
  closeModal('evidenceModal');
  showToast('KanÄ±t eklendi');
});

// Add member button
document.getElementById('addMemberBtn')?.addEventListener('click', () => {
  openModal('inviteModal');
});

// Submit invite
document.getElementById('submitInvite')?.addEventListener('click', () => {
  closeModal('inviteModal');
  showToast('Davet gÃ¶nderildi');
});

// Add note
document.getElementById('addNoteBtn')?.addEventListener('click', () => {
  const noteInput = document.querySelector('.note-input');
  if (noteInput.value.trim()) {
    showToast('Not eklendi');
    noteInput.value = '';
  } else {
    showToast('LÃ¼tfen bir not yazÄ±n', 'error');
  }
});

// Avatar upload
const avatarInput = document.getElementById('avatarInput');
const uploadBtn = document.getElementById('uploadBtn');
const removeBtn = document.getElementById('removeBtn');

uploadBtn?.addEventListener('click', () => {
  avatarInput.click();
});

avatarInput?.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = (event) => {
      currentUser.avatar = event.target.result;
      localStorage.setItem('userAvatar', currentUser.avatar);
      updateUI();
      showToast('Profil fotoÄŸrafÄ± gÃ¼ncellendi');
    };
    reader.readAsDataURL(file);
  }
});

removeBtn?.addEventListener('click', () => {
  currentUser.avatar = null;
  localStorage.removeItem('userAvatar');
  updateUI();
  showToast('Profil fotoÄŸrafÄ± kaldÄ±rÄ±ldÄ±');
});

// Save settings
document.getElementById('saveBtn')?.addEventListener('click', () => {
  const name = document.getElementById('inputName').value.trim();
  const username = document.getElementById('inputUsername').value.trim();
  const email = document.getElementById('inputEmail').value.trim();
  
  if (name) {
    currentUser.name = name;
    localStorage.setItem('userDisplayName', name);
  }
  
  if (username) {
    localStorage.setItem('username', username);
  }
  
  if (email) {
    localStorage.setItem('userEmail', email);
  }
  
  updateUI();
  showToast('Ayarlar kaydedildi');
});

// Logout
document.getElementById('logoutBtn')?.addEventListener('click', () => {
  if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinize emin misiniz?')) {
    window.location.href = 'index.html';
  }
});

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    document.querySelectorAll('.modal-overlay.active').forEach(modal => {
      modal.classList.remove('active');
    });
    sidebar.classList.remove('open');
  }
});

// Demo function for solving cases
function solveCase() {
  if (currentUser.active > 0) {
    currentUser.active--;
    currentUser.solved++;
    currentUser.points += 500;
    
    localStorage.setItem('solvedCases', currentUser.solved);
    localStorage.setItem('activeCases', currentUser.active);
    localStorage.setItem('userPoints', currentUser.points);
    
    updateUI();
    showToast('Tebrikler! DavayÄ± Ã§Ã¶zdÃ¼n!');
    
    // Update rank if needed
    updateRank();
  } else {
    showToast('Aktif dava yok', 'error');
  }
}

// Update rank based on solved cases
function updateRank() {
  const ranks = [
    { min: 0, name: 'Ã‡aylak Dedektif' },
    { min: 1, name: 'Acemi Dedektif' },
    { min: 3, name: 'Dedektif' },
    { min: 5, name: 'KÄ±demli Dedektif' },
    { min: 10, name: 'BaÅŸ Dedektif' },
    { min: 20, name: 'Efsane Dedektif' }
  ];
  
  let currentRank = ranks[0].name;
  for (const rank of ranks) {
    if (currentUser.solved >= rank.min) {
      currentRank = rank.name;
    }
  }
  
  document.querySelectorAll('.profile-rank, .lb-badge').forEach(el => {
    if (el.closest('.lb-row')?.style.background || el.classList.contains('profile-rank')) {
      el.textContent = currentRank;
    }
  });
}

// Initialize on load
document.addEventListener('DOMContentLoaded', init);

// Console helpers
console.log('%cProject Z Panel', 'font-size: 16px; color: #4a7cff; font-weight: bold;');
console.log('%cDemo kodlarÄ±: DEMO001, TEST123, CASE001, PROJECTZ, MIRAS01', 'color: #8a96a8;');
console.log('%cDava Ã§Ã¶zmek iÃ§in: solveCase()', 'color: #3daa6d;');

window.solveCase = solveCase;
</script>

</body>
</html>

